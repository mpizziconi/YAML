#  2021-01-09T00:01:18
info:
  commit: e45228232fa37d4946516e75fbf81ea2a8b78c74
  date: 1610150478
  description: |-
    OpenAPI 3 templates and definitions for implementing
    interoperable APIs.

    The work is ongoing, your feedback is greatly appreciated!
  version: 0.0.1
components:
    schemas:
      StatoPianoEnum:  
        type: string
        minimum: 1
        enum: ['IN LAVORAZIONE', 'CONFERMATO', 'CANCELLATO','COLLAUDATO']
      StatoAppaltoEnum: 
        type: string
        minimum: 1
        enum: ['IN LAVORAZIONE', 'CONFERMATO', 'CANCELLATO', 'IN ATTESA DI PUBBLICAZIONE','IN PUBBLICAZIONE FERMATA','PUBBLICATO','NON AGGIUDICATO', 'AGGIUDICATO', 'IN SOTTOSCRIZIONE CONTRATTO','IN ESECUZIONE','ANNULLATO','SOSPESO', 'CONCLUSO','COLLAUDATO']
        description: >
          stato- Stato in cui si trova la Appalto:
           * 'IN LAVORAZIONE' - Appalto inviato in aatesa di CIG
           * 'CONFERMATA' - Appalto inviato in aatesa di CIG
           * 'CANCELLATA' - CIG assegnato alla Gara-Lotto
           * 'IN ATTESA DI PUBBLICAZIONE' - Appalto pubblicato in TED/Gazzetta Italiana/Altro
           * 'PUBBLICATA' - Appalto pubblicato in TED/Gazzetta Italiana/Altro
           * 'AGGIUDICATA' - Appalto aggiudicato a un Operatore Econominco
           * 'NON AGGIUDICATA' - Appalto aggiudicato a un Operatore Econominco
           * 'IN SOTTOSCRIZIONE CONTRATTO' - In fase di definizione del contratto dell'appalto 
           * 'IN ESECUZIONE' - il contratto di un appalto é in esecuzione
           * 'ANNULLATA' - il 
           * 'SOSPESA' - L'esecuzione dei lavori di un appalto sono sospesi
           * 'CONCLUSA' - 
           * 'COLLAUDATA' - L'Appalto si conclude con il collaudo dei lavori
        example: "IN LAVORAZIONE" 
      StatoLottoEnum:
        $ref: 'https://raw.githubusercontent.com/domaltomare/YAML/main/DefinizioniNPA.yaml#/components/schemas/StatoLottoEnum'
      StatoAvvisoEnum:
        type: string
        minimum: 1
        enum: ['CREATO','IN ATTESA DI PUBBLICAZIONE','PUBBLICAZIONE FERMATA','PUBBLICATO','NON PUBBLICATO']
        description: >
          stato - Stato in cui si trova l'avviso:
           * 'CREATO' - stato iniziale avviso  
           * 'IN_ATTESA_DI_PUBBLICAZIONE' - l'Avviso é da pubblicare in TED e/o Gazzetta Italiana/Altro
           * 'PUBBLICAZIONE_FERMATA' - l'Avviso in TED e/o Gazzetta Italiana/Altro é stato fermato da uno stop pubblicazione
           * 'PUBBLICATO' - l'Avviso é stato pubblicato in TED e/o Gazzetta Italiana/Altro
           * 'NON PUBBLICATO' - l' Avviso non é stato pubblicato in TED e/o Gazzetta Italiana/Altro
        example: 'PUBBLICATO'
      StatoSchedaEnum:
          type: string
          minimum: 1
          enum: ['IN LAVORAZIONE', 'CREATA', 'CONFERMATA', 'CANCELLATA']   
          description: >
            stato- Stato in cui si trova la Scheda:
             * 'IN LAVORAZIONE' - Stato iniziale della scheda
             * 'CONFERMATA' - I dati della scheda sono confermati
             * 'CANCELLATA' - i dati della scheda sono annullati
      TipoAvvisoEnum:
          description: Tipologie di avvisi 
          type: string
          minimum: 1
          enum: ['PRE-INFORMAZIONE','PUBBLICAZIONE GARA', 'AGGIUDICAZIONE','MODIFICA CONTRATTO']
          example : 'PUBBLICAZIONE GARA'
      TipoAzioneAvvisoEnum:
          description: azione dell'avviso
          type: string
          minimum: 1
          enum: ['CREAZIONE', 'MODIFICA', 'RETTIFICA']
          example : 'CREAZIONE'     
      TipoPianoEnum:
        type: string
        minimum: 1
        enum: ['LAVORI_TRIENNALI','SERVIZI_FORNITURE_BIENNALI']
        description: >
            tipoOperazione - Tipo Operazione di cui si richiedere l'esito dell'operazione :
            * 'LAVORI_TRIENNALI' - Lavori programma triennale e aggiornamento annuale.
            * 'SERVIZI_FORNITURE_BIENNALI' - Servizi e Forniture biennale e aggiornamenti annuali.
      TipoOperazioneEnum :
        type: string
        minimum: 1
        enum: ['CREA_PIANO','MODIFICA_PIANO','CANCELLA_PIANO','CONFERMA_PIANO','VERIFICA_PIANO','CREA_APPALTO' , 'MODIFICA_APPALTO','CANCELLA_APPALTO','CONFERMA_APPALTO','VERIFICA_APPALTO','PUBBLICA_AVVISO','MODIFICA_AVVISO','RETTIFICA_AVVISO','CANCELLA_AVVISO','CREA_SCHEDA' ,'MODIFICA_SCHEDA','CANCELLA_SCHEDA','VERIFICA_SCHEDA','CONFERMA_SCHEDA'
        ]
        description: >
            tipoOperazione - Tipo Operazione di cui si richiedere l'esito dell'operazione :
             * 'CREA_PIANO' -
             * 'MODIFICA_PIANO' -
             * 'CANCELLA_PIANO' -
             * 'CONFERMA_PIANO' -
             * 'VERIFICA_PIANO' -
             * 'CREA_APPALTO' -
             * 'MODIFICA_APPALTO' -
             * 'CANCELLA_APPALTO' -
             * 'CONFERMA_APPALTO' -
             * 'VERIFICA_APPALTO' -
             * 'PUBBLICA_AVVISO' -
             * 'MODIFICA_AVVISO' -
             * 'RETTIFICA_AVVISO' -
             * 'CANCELLA_AVVISO' -
             * 'CREA_SCHEDA' -
             * 'MODIFICA_SCHEDA' -
             * 'CANCELLA_SCHEDA' -
             * 'CONFERMA_SCHEDA' -
             * 'VERIFICA_SCHEDA' -    
      TipoSchedaEnum :
        type: string
        minimum: 1
        enum: ['ELENCO_PARTECIPANTI', 'AGGIUDICAZIONE' , 'AVVIO_CONTRATTO','AVANZAMENTO_CONTRATTO','CONCLUSIONE_CONTRATTO', 'COLLAUDO_CONTRATTO','SOSPENSIONE','RIPRESA_ESECUZIONE_CONTRATTO','RISOLUZIONE CONTRATTO', 'MODIFICA_CONTRATTO' ,'SUBAPPALTO','RECESSO' ,'CONTENZIOSO']
        description: >
              stato- Stato in cui si trova la Appalto:
               * 'ELENCO_PARTECIPANTI'
               * 'AGGIUDICAZIONE' 
               * 'AVVIO_CONTRATTO'- Dati relativi alla creazione del Contratto nela fase di ESECUZIONE
               * 'AVANZAMENTO_CONTRATTO'
               * 'CONCLUSIONE_CONTRATTO' 
               * 'COLLAUDO_CONTRATTO' 
               * 'SOSPENSIONE' 
               * 'RIPRESA_ESECUZIONE_CONTRATTO' 
               * 'RISOLUZIONE CONTRATTO' 
               * 'MODIFICA_CONTRATTO' 
               * 'SUBAPPALTO'
               * 'RECESSO' 
               * 'CONTENZIOSO'
      PianoType:
        description: Oggetto che riporta tutti i dati della Pianificazione
        type: object
        additionalProperties: false
        properties:
          idPianificazione:
            description: identificativo univoco Pianificazione restituito da ANAC in fase di creazione Piano
            type: string
            format: uuid
            example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"      
          oggetto:
            description: descrizione della pianificazione
            type: string
            example: 'Pianificazione triennale per le forniture.....'
          dataCreazione:
            description: data creazione della pianificazione (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
          dataScadenza:
            description: data scadenza della pianificazione
            type: string
            format: datetime (A datetime specified by RF3339)
            example: '2022-01-23T12:02:05Z'
          importo:
            description: | 
              importo definito per la pianificazione   ISO20022: Amount of money to be moved between the debtor and creditor, before deduction of charges, expressed in the currency as ordered by the initiating party.
            example: '120000.25'
            maxLength: 35
            minLength: 1
            pattern: ^\-{0,1}[0-9]{1,13}(\.[0-9]{0,5}){0,1}$
            type: string        
          tipo:
            $ref: '#/components/schemas/TipoPianoEnum'
          stato:
            $ref: '#/components/schemas/StatoPianoEnum'
          appalti:
            type: array
            items:
              $ref: '#/components/schemas/AppaltoType' 
          body:
            description: dati della Scheda 
            type: string
            example: 
                    '{ Il Modello dati dinamico é presente al seguente URL https://github.com/anticorruzione/npa-docs/tree/3.04.7/PDF
                    }'
      AppaltoType:
        description: Oggetto che riporta tutti i dati dell'Appalto
        type: object
        additionalProperties: false
        properties:
          codiceSA:
            description: codice identificativo Stazione Appaltante
            type: string
            example: xcdsd5#3346
          idAppalto:
            description: identificativo univoco dell' Appalto restituito da ANAC
            type: string
            format: uuid
            example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"      
          oggetto:
            description: descrizione della gara
            type: string
            example: Fornitura di strumento XX per XX
          dataCreazione:
            description: data creazione della gara (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
          dataScadenza:
            description: data scadenza della gara
            type: string
            format: datetime (A datetime specified by RF3339)
            example: '2022-01-23T12:02:05Z'
          importo:
            description:  |
              ISO20022: Amount of money to be moved between the debtor and creditor, before deduction of charges, expressed in the currency as ordered by the initiating party.
            example: '120000.25'
            maxLength: 35
            minLength: 1
            pattern: ^\-{0,1}[0-9]{1,13}(\.[0-9]{0,5}){0,1}$
            type: string        
          tipo:
            description: tipologia di gara
            type: string
            minimum: 1
            enum: ['Appalti di lavori', 'Forniture',  'Servizi']
            example:  'Appalti di lavori'
          stato:
            $ref: '#/components/schemas/StatoAppaltoEnum'
          avviso:  
            $ref: '#/components/schemas/AvvisoType'
          lotti:
            type: array
            items:
              $ref: '#/components/schemas/LottoType'
      AvvisoType:
        type: object
        additionalProperties: false
        properties:
          idAvviso:
            description: identificativo univoco Avviso restituito da ANAC.
            type: string
            example: 'xcdsd5#334'
          codiceSA:
            description: codice identificativo Stazione Appaltante
            type: string
            example: 'xcdsd5#334'
          dataCreazione:
            description: Data di crezione dell'Avviso  (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
          dataPubblicazione:
            description: Data di pubblicazione dell'Avviso  (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
          stato:
            $ref: '#/components/schemas/StatoAvvisoEnum' 
          tipo:
            $ref: '#/components/schemas/TipoAvvisoEnum'
          azione:
            $ref: '#/components/schemas/TipoAzioneAvvisoEnum'
          appalto:
            $ref: '#/components/schemas/AppaltoType'  
          lotto:
            $ref: '#/components/schemas/LottoType'
        example:
            idAvviso: 'f81d4fae-7dec-11d0-a765-00a0c91e6bf6'
            codiceSA: '323ERER233'
            dataCreazione: '2022-01-23T12:02:05Z'
            dataPubblicazione: '2022-01-23T12:02:05Z'
            stato: 'PUBBLICATO'
            tipo: 'PUBBLICAZIONE GARA'
            appalto: 
              codiceSA: '323ERER233'
              idAppalto: "ceb08609-1a78-4df6-ae8d-81b0516e6f71"
              oggetto: 'Fornitura di strumento XX per XX'
              dataCreazione: '2022-04-01T12:02:05Z'
              dataScadenza: '2023-12-31T12:02:05Z'
              importo: '200000.00'
              tipo: 'Appalti di lavori'
              stato: 'IN LAVORAZIONE'   
      StatoLottoEnum:
        type: string
        minimum: 1
        enum: ['IN LAVORAZIONE', 'CONFERMATO', 'CANCELLATO', 'IN ATTESA DI PUBBLICAZIONE','IN PUBBLICAZIONE FERMATA','PUBBLICATO','NON AGGIUDICATO', 'AGGIUDICATO', 'IN SOTTOSCRIZIONE CONTRATTO','IN ESECUZIONE','ANNULLATO','SOSPESO', 'CONCLUSO','COLLAUDATO']
        description: >
            stato- Stato in cui si trova il lotto:
             * 'IN LAVORAZIONE' - Appalto inviato in aatesa di CIG
             * 'CONFERMATA' - Appalto inviato in aatesa di CIG
             * 'CANCELLATA' - CIG assegnato alla Gara-Lotto
             * 'IN ATTESA DI PUBBLICAZIONE' - Appalto pubblicato in TED/Gazzetta Italiana/Altro
             * 'PUBBLICATA' - Appalto pubblicato in TED/Gazzetta Italiana/Altro
             * 'AGGIUDICATA' - Appalto aggiudicato a un Operatore Econominco
             * 'NON AGGIUDICATA' - Appalto aggiudicato a un Operatore Econominco
             * 'IN SOTTOSCRIZIONE CONTRATTO' - In fase di definizione del contratto dell'appalto 
             * 'IN ESECUZIONE' - il contratto di un appalto é in esecuzione
             * 'ANNULLATA' - il 
             * 'SOSPESA' - L'esecuzione dei lavori di un appalto sono sospesi
             * 'CONCLUSA' - 
             * 'COLLAUDATA' - L'Appalto si conclude con il collaudo dei lavori
        example: "IN LAVORAZIONE" 
      AFormType:
        description: dati aggiuntivi per la gestione italiana della richiesta
        type: object
        properties:
          body:
            description: Definizione form lato ANAC in formato JSON 
            type: string
            example: 
                    " Il Modello dati dinamico é presente al seguente URL https://github.com/anticorruzione/npa-docs/tree/3.04.7/PDF
                    }"   
      SchedaGenericType:
        description: Oggetto che riporta tutti i dati della Pianificazione
        type: object
        additionalProperties: false
        properties:
          idScheda:
            description: identificativo univoco della Scheda restituito da ANAC in fase di creazione Scheda
            type: string
            format: uuid
            example: "f81d4fae-7dec-11d0-a765-00a0c91e6bf6"      
          versione:
            description: versione della scheda. necessaria al motore interno ANAC.
            type: string
            example: '01.00.00'
          dataCreazione:
            description: data creazione della pianificazione (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
      AppaltoAdesioneType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
      FinanziamentoType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
      SoggAggiudicatarioType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
      IncaricatoType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
      DittaAusiliariaType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
      AdesioneType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
          Appalto:
            $ref: '#/components/schemas/AppaltoAdesioneType'
          Finanziamenti:
            type: array
            items:
              $ref: '#/components/schemas/FinanziamentoType'
          Aggiudicatari:
            type: array
            items:
              $ref: '#/components/schemas/SoggAggiudicatarioType'
          Incaricati:
            type: array
            items:
              $ref: '#/components/schemas/IncaricatoType'
          DitteAusiliarie:
            type: array
            items:
            $ref: '#/components/schemas/DittaAusiliariaType'
      MotivoRisoluzioneEnum:
        type: string
        minimum: 1
        enum: ['Revoca dell''aggiudicazione definitiva','Recesso della stazione appaltante','Recesso dell''appaltatore','Recesso dal contratto (codice antimafia)','Fallimento, liquidazione coatta o concordato preventivo, insolvenza concorsuale o liquidazione dell''appaltatore)','Dichiarazione giudiziale di inefficacia del contratto']
        description: >
          stato - Stato in cui si trova l'avviso:
           * 'Revoca dell''aggiudicazione definitiva' - stato iniziale avviso  
           * 'Risoluzione contrattuale' - l'Avviso é da pubblicare in TED e/o Gazzetta Italiana/Altro
           * 'Recesso della stazione appaltante' - l'Avviso in TED e/o Gazzetta Italiana/Altro é stato fermato da uno stop pubblicazione
           * 'Recesso dal contratto (codice antimafia)' - l'Avviso é stato pubblicato in TED e/o Gazzetta Italiana/Altro
           * 'Fallimento, liquidazione coatta o concordato preventivo, insolvenza concorsuale o liquidazione dell'appaltatore)' - l' Avviso non é stato pubblicato in TED e/o Gazzetta Italiana/Altro
           * 'Dichiarazione giudiziale di inefficacia del contratto' - Descrizione
        example: 'PUBBLICATO' 
      MotivoInterruzioneType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
          codice:
            description: obbligatorio
            type: string
          descrizione:
            description: obbligatorio
            type: string
      ConclusioneType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
          codInterruzione:
            $ref: '#/components/schemas/MotivoInterruzioneType'
          codRisoluzione:
            $ref: '#/components/schemas/MotivoRisoluzioneEnum'
          dataRisoluzione:
            description: data creazione della pianificazione (A datetime specified by RF3339)
            type: string
            format: datetime
            example: '2022-01-23T12:02:05Z'
      PartecipanteType:
        description: Oggetto che riporta tutti i dati della Partecipante
        type: object
        additionalProperties: false
        properties:
          codiceAnag:
            description: codice Anagrafica presente in AUSA (???)
            type: string
            example: '1213DF56'
      SchedaPartecipantiType:
        allOf: # estende il modello dati SchedaGenericType
          - $ref: '#/components/schemas/SchedaGenericType'
        description: Oggetto che riporta tutti i dati della Scheda relativa Partecipanti
        type: object
        additionalProperties: false
        properties:
          partecipanti:
            type: array
            items:
              $ref: '#/components/schemas/PartecipanteType'
      SchedaAggiudicazioneType:
        allOf: # estende il modello dati SchedaGenericType
          - $ref: '#/components/schemas/SchedaGenericType'
      SchedaType:
        description: Scheda generica definita dal contesto in cui si trova l'appalto | Il Modello dati dinamico é presente al seguente URL https://github.com/anticorruzione/npa-docs/tree/3.04.7/PDF
        oneOf:
          - $ref: '#/components/schemas/SchedaPartecipantiType'
          - $ref: '#/components/schemas/SchedaAggiudicazioneType'
